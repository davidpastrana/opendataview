!function(t){t.extend(t.ui.gmap.prototype,{getCurrentPosition:function(t,n){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(n){t(n,"OK")},function(n){t(null,n)},n):t(null,"NOT_SUPPORTED")},watchPosition:function(t,n){navigator.geolocation?this.set("watch",navigator.geolocation.watchPosition(function(n){t(n,"OK")},function(n){t(null,n)},n)):t(null,"NOT_SUPPORTED")},clearWatch:function(){navigator.geolocation&&navigator.geolocation.clearWatch(this.get("watch"))},autocomplete:function(n,e){var i=this;t(this._unwrap(n)).autocomplete({source:function(n,e){i.search({address:n.term},function(n,i){"OK"===i?e(t.map(n,function(t){return{label:t.formatted_address,value:t.formatted_address,position:t.geometry.location}})):"OVER_QUERY_LIMIT"===i&&alert("Google said it's too much!")})},minLength:3,select:function(t,n){i._call(e,n)},open:function(){t(this).removeClass("ui-corner-all").addClass("ui-corner-top")},close:function(){t(this).removeClass("ui-corner-top").addClass("ui-corner-all")}})},placesSearch:function(t,n){this.get("services > PlacesService",new google.maps.places.PlacesService(this.get("map"))).search(t,n)},clearDirections:function(){var t=this.get("services > DirectionsRenderer");t&&(t.setMap(null),t.setPanel(null))},pagination:function(n,e){var i=t("<div id='pagination' class='pagination shadow gradient rounded clearfix'><div class='lt btn back-btn'></div><div class='lt display'></div><div class='rt btn fwd-btn'></div></div>"),o=this,a=0;n=n,e=e||"title";o.set("p_nav",function(t,s){t&&(a+=s,i.find(".display").text(o.get("markers")[a][n]),o.get("map").panTo(o.get("markers")[a].getPosition()),o.get("markers")[a].setAnimation(google.maps.Animation.BOUNCE),setTimeout(function(){o.get("markers")[a].setAnimation(null)},750),o.openInfoWindow({content:o.get("markers")[a][e]},o.get("markers")[a]))}),o.get("p_nav")(!0,0),i.find(".back-btn").click(function(){o.get("markers")[a].setAnimation(),0==a?(a=o.get("markers").length,o.get("p_nav")(a,-1,this)):o.get("p_nav")(a>0,-1,this)}),i.find(".fwd-btn").click(function(){o.get("markers")[a].setAnimation(),a==o.get("markers").length-1?(a=-1,o.get("p_nav")(a,1,this)):o.get("p_nav")(a<o.get("markers").length-1,1,this)}),o.addControl(i,google.maps.ControlPosition.BOTTOM_LEFT)}})}(jQuery);